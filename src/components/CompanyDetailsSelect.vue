<template>
  <div class="md-layout-item m-3">
    <h5 class="text-center" style="margin-top: 13%">Kompanijos detalÄ—s:</h5>
    <div
      v-for="(select, position) in [
        companyDetails.companies,
        companyDetails.departments,
        companyDetails.divisions,
        companyDetails.groups,
      ]"
      :key="position"
      class="mt-4"
    >
      <label class="form-label">{{ `${navBar[select.id].title}:` }}</label>
      <select v-model="employee[inputs[position].input]" class="form-select">
        <option selected disabled :value="null">
          {{ `Pasirinkite ${navBar[select.id].what}...` }}
        </option>
        <option
          v-for="option in select.all"
          :key="option.id"
          :value="option.id"
        >
          {{ option.name }}
        </option>
      </select>
    </div>
    <add-image></add-image>
  </div>
</template>
<script>
import { mapActions, mapGetters } from "vuex";
import AddImage from "./AddImage.vue";
export default {
  components: {
    AddImage,
  },
  data() {
    return {
      inputs: [
        { input: "companies" },
        { input: "departments" },
        { input: "divisions" },
        { input: "groups" },
      ],
    };
  },
  computed: {
    ...mapGetters(["companyDetails", "employee", "navBar", "companyDetails"]),
  },
  methods: {
    ...mapActions(["fetchAllCompanies"]),
  },
  async mounted() {
    await this.fetchAllCompanies();
    console.log(this.companyDetails);
  },
};
</script>
